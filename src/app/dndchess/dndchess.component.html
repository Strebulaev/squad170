<div class="chess-container">
  <h1 class="title">
    <img src="/assets/images/DnD.jpg">
    <span class="colortext">hub</span>
  </h1>

  <div class="pieces-column">
    <div class="piece" *ngFor="let piece of pieces">
      <div class="piece-name">{{ piece.name }} {{ piece.number }}</div>
      <div class="piece-data">
        <span>–ó–¥–æ—Ä–æ–≤—å–µ:</span>
        <input type="number" [min]="piece.minHealth" [max]="piece.maxHealth" [(ngModel)]="piece.health">
      </div>
      <div class="piece-data">
        <span>–ò–Ω–∏—Ü–∏–∞—Ç–∏–≤–∞:</span>
        <input type="number" [min]="piece.minInitiative" [max]="piece.maxInitiative" [(ngModel)]="piece.initiative">
      </div>
      <div *ngIf="piece.name === '–ö–æ—Ä–æ–ª—å'" class="piece-data">
        <span>–£—Ä–æ–Ω:</span>
        <input type="number" min="0" max="2" value="1">
      </div>
      <div class="piece-actions">
        <button class="piece-actions" id="spell-menu-toggle" (click)="toggleSpellMenu(piece)">üîÆ</button>
        <div class="spell-menu" [ngClass]="{'open': piece.spellMenuOpen}">
          <button class="piece-actions" *ngFor="let spell of piece.spells" (click)="castSpell(piece, spell)">{{ spell }}</button>
        </div>
      </div>
      <span *ngIf="piece.isParalyzed" class="paralyzed">ü©∏</span>
      <span *ngIf="piece.isPoisoned" class="poisoned">‚ò†Ô∏è</span>
      <div *ngIf="piece.name !== '–ö–æ—Ä–æ–ª—å'" class="piece-data">
        <span>–û—Ä—É–∂–∏–µ:</span>
        <select class="figure-weapon" (change)="showWeaponInfo($event, piece)">
          <option value="" selected disabled hidden>–í—ã–±–µ—Ä–∏—Ç–µ –æ—Ä—É–∂–∏–µ</option>
          <option value="–ê–ª–µ–±–∞—Ä–¥–∞">–ê–ª–µ–±–∞—Ä–¥–∞</option>
          <option value="–ë–æ–µ–≤–∞—è –∫–∏—Ä–∫–∞">–ë–æ–µ–≤–∞—è –∫–∏—Ä–∫–∞</option>
          <option value="–î–≤—É—Ä—É—á–Ω—ã–π –º–µ—á">–î–≤—É—Ä—É—á–Ω—ã–π –º–µ—á</option>
          <option value="–ù—É–Ω—á–∞–∫–∏">–ù—É–Ω—á–∞–∫–∏</option>
          <option value="–≠–ª—å—Ñ–∏–π—Å–∫–∏–π –¥—É—ç–ª—å–Ω—ã–π –∫–ª–∏–Ω–æ–∫">–≠–ª—å—Ñ–∏–π—Å–∫–∏–π –¥—É—ç–ª—å–Ω—ã–π –∫–ª–∏–Ω–æ–∫</option>
        </select>
        <button class="weapon-icon" (click)="showWeaponInfo($event, piece)">üó°</button>
      </div>
      <div class="weapon-info-container">
        <span class="weapon-info" [style.display]="piece.weaponInfo ? 'inline-block' : 'none'" [style.opacity]="piece.weaponInfo ? 1 : 0">{{ piece.weaponInfo }}</span>
      </div>
    </div>
    <div class="arcaneum">
      <span>–ê—Ä–∫–∞–Ω–∏—É–º—ã:</span>
      <br />
      <input type="number" min="0" max="400" value="170">
    </div>
    <button class="next-turn-button" (click)="nextTurn()">‚åõÔ∏è</button>
  </div>
</div>
